#!/usr/bin/env python
"""
üé≠ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ "–Ω–∞ –ø–∞–ª—å—Ü–∞—Ö"
–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—à–∞–≥–æ–≤–æ
"""
import os
import django
import time
from datetime import datetime

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Django –æ–∫—Ä—É–∂–µ–Ω–∏–µ
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'shop_project.settings')
django.setup()

from accounts.models import CustomUser
from django.contrib.auth.tokens import default_token_generator
from django.utils.encoding import force_bytes
from django.utils.http import urlsafe_base64_encode, urlsafe_base64_decode
from django.urls import reverse
from django.core.mail import send_mail
from django.template.loader import render_to_string

def print_step(step, title, description=""):
    """–ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ —à–∞–≥–∞"""
    print(f"\n{'='*60}")
    print(f"üîÑ –®–ê–ì {step}: {title}")
    print(f"{'='*60}")
    if description:
        print(f"üìù {description}")
    print()

def demonstrate_registration_process():
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    """
    print("üé≠ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´ –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –ò –ê–ö–¢–ò–í–ê–¶–ò–ò")
    print("üéØ –°–µ–π—á–∞—Å –º—ã –ø–æ–∫–∞–∂–µ–º –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—à–∞–≥–æ–≤–æ!")
    
    # –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    print_step(1, "–ü–û–î–ì–û–¢–û–í–ö–ê –î–ê–ù–ù–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø", 
               "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏")
    
    user_data = {
        'email': 'demo@example.com',
        'password': 'DemoPassword123!',
        'first_name': '–î–µ–º–æ',
        'last_name': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
        'phone_number': '+79001111111'
    }
    
    print("üë§ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:")
    for key, value in user_data.items():
        if key == 'password':
            print(f"   üîë {key}: {'*' * len(value)} (—Å–∫—Ä—ã—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)")
        else:
            print(f"   üìù {key}: {value}")
    
    # –£–¥–∞–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    if CustomUser.objects.filter(email=user_data['email']).exists():
        CustomUser.objects.filter(email=user_data['email']).delete()
        print("üóëÔ∏è –£–¥–∞–ª–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏")
    
    # –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    print_step(2, "–°–û–ó–î–ê–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –í –ë–ê–ó–ï –î–ê–ù–ù–´–•",
               "Django —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–æ –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ")
    
    user = CustomUser.objects.create_user(
        email=user_data['email'],
        password=user_data['password'],
        first_name=user_data['first_name'],
        last_name=user_data['last_name'],
        phone_number=user_data['phone_number'],
        is_active=False  # ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –ú–û–ñ–ï–¢ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
    )
    
    print(f"‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:")
    print(f"   üÜî ID: {user.id}")
    print(f"   üìß Email: {user.email}")
    print(f"   üîì –ê–∫—Ç–∏–≤–µ–Ω: {user.is_active} ‚ùå")
    print(f"   üìß Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω: {getattr(user, 'email_confirmed', False)} ‚ùå")
    print(f"   üïê –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: {user.date_joined.strftime('%Y-%m-%d %H:%M:%S')}")
    
    # –®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
    print_step(3, "–ì–ï–ù–ï–†–ê–¶–ò–Ø –¢–û–ö–ï–ù–ê –ê–ö–¢–ò–í–ê–¶–ò–ò",
               "Django —Å–æ–∑–¥–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è")
    
    token = default_token_generator.make_token(user)
    uid = urlsafe_base64_encode(force_bytes(user.pk))
    
    print(f"üîê –¢–æ–∫–µ–Ω –∞–∫—Ç–∏–≤–∞—Ü–∏–∏: {token}")
    print(f"   üìè –î–ª–∏–Ω–∞: {len(token)} —Å–∏–º–≤–æ–ª–æ–≤")
    print(f"   üéØ –ü—Ä–∏–≤—è–∑–∞–Ω –∫: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ID={user.id}")
    print(f"   ‚è∞ –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 24 —á–∞—Å–∞")
    print(f"   üîí –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π: –¥–∞")
    print()
    print(f"üÜî –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π UID: {uid}")
    print(f"   üìù –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞: {uid} ‚Üí {user.id}")
    
    # –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
    print_step(4, "–°–û–ó–î–ê–ù–ò–ï –°–°–´–õ–ö–ò –ê–ö–¢–ò–í–ê–¶–ò–ò",
               "–§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è URL —Å —Ç–æ–∫–µ–Ω–æ–º –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    
    activation_url = reverse('accounts:activate', kwargs={'uidb64': uid, 'token': token})
    activation_link = f"http://localhost:8000{activation_url}"
    
    print(f"üîó –°—Å—ã–ª–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:")
    print(f"   {activation_link}")
    print()
    print(f"üìã –†–∞–∑–±–æ—Ä —Å—Å—ã–ª–∫–∏:")
    print(f"   üåê –î–æ–º–µ–Ω: http://localhost:8000")
    print(f"   üõ£Ô∏è  –ü—É—Ç—å: {activation_url}")
    print(f"   üÜî UID: {uid}")
    print(f"   üîë –¢–æ–∫–µ–Ω: {token}")
    
    # –®–∞–≥ 5: –û—Ç–ø—Ä–∞–≤–∫–∞ email (–≤ –∫–æ–Ω—Å–æ–ª—å)
    print_step(5, "–û–¢–ü–†–ê–í–ö–ê EMAIL –° –ê–ö–¢–ò–í–ê–¶–ò–ï–ô",
               "Django –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∏—Å—å–º–æ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ - –≤ –∫–æ–Ω—Å–æ–ª—å)")
    
    context = {
        'user': user,
        'activation_link': activation_link,
        'site_name': '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω (–î–ï–ú–û)'
    }
    
    subject = '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ'
    message = render_to_string('accounts/email/activation_email.txt', context)
    html_message = render_to_string('accounts/email/activation_email.html', context)
    
    print("üìß –û—Ç–ø—Ä–∞–≤–∫–∞ email...")
    print("üí° –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–∏—Å—å–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å Django —Å–µ—Ä–≤–µ—Ä–∞!")
    print()
    print("üìù –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∏—Å—å–º–∞:")
    print("‚îÄ" * 40)
    lines = message.split('\n')[:10]  # –ü–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫
    for line in lines:
        if line.strip():
            print(f"   {line}")
    print("   ...")
    print("‚îÄ" * 40)
    
    try:
        send_mail(
            subject=subject,
            message=message,
            from_email='noreply@shop.local',
            recipient_list=[user.email],
            html_message=html_message,
            fail_silently=False
        )
        print("‚úÖ Email –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å Django —Å–µ—Ä–≤–µ—Ä–∞!")
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email: {e}")
    
    # –®–∞–≥ 6: –ò–º–∏—Ç–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Å—Å—ã–ª–∫–µ
    print_step(6, "–ü–ï–†–ï–•–û–î –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –ü–û –°–°–´–õ–ö–ï",
               "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ–ø–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ")
    
    print("üë§ –î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:")
    print("   1. –°–º–æ—Ç—Ä–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å Django —Å–µ—Ä–≤–µ—Ä–∞")
    print("   2. –ù–∞—Ö–æ–¥–∏—Ç –ø–∏—Å—å–º–æ —Å –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π")
    print("   3. –ö–æ–ø–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –∞–∫—Ç–∏–≤–∞—Ü–∏–∏")
    print("   4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ")
    print()
    print(f"üåê –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç GET –∑–∞–ø—Ä–æ—Å:")
    print(f"   GET {activation_url}")
    
    # –®–∞–≥ 7: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ Django
    print_step(7, "–û–ë–†–ê–ë–û–¢–ö–ê –ê–ö–¢–ò–í–ê–¶–ò–ò –í DJANGO",
               "Django –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    
    print("üîç Django –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:")
    
    # –ò–º–∏—Ç–∏—Ä—É–µ–º –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏
    print("   1. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ UID...")
    try:
        decoded_uid = urlsafe_base64_decode(uid).decode()
        user_id = int(decoded_uid)
        print(f"      ‚úÖ {uid} ‚Üí {user_id}")
    except Exception as e:
        print(f"      ‚ùå –û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏: {e}")
        return
    
    print("   2. –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ...")
    try:
        found_user = CustomUser.objects.get(pk=user_id)
        print(f"      ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω: {found_user.email}")
    except CustomUser.DoesNotExist:
        print(f"      ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID {user_id} –Ω–µ –Ω–∞–π–¥–µ–Ω")
        return
    
    print("   3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞...")
    token_valid = default_token_generator.check_token(found_user, token)
    if token_valid:
        print(f"      ‚úÖ –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω")
    else:
        print(f"      ‚ùå –¢–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω")
        return
    
    print("   4. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...")
    found_user.is_active = True
    found_user.email_confirmed = True
    found_user.save()
    print(f"      ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
    
    # –®–∞–≥ 8: –†–µ–∑—É–ª—å—Ç–∞—Ç
    print_step(8, "–†–ï–ó–£–õ–¨–¢–ê–¢ –ê–ö–¢–ò–í–ê–¶–ò–ò",
               "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É")
    
    # –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã
    user.refresh_from_db()
    
    print("üéâ –ê–ö–¢–ò–í–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!")
    print()
    print("üìä –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:")
    print(f"   üìß Email: {user.email}")
    print(f"   üîì –ê–∫—Ç–∏–≤–µ–Ω: {user.is_active} ‚úÖ")
    print(f"   üìß Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω: {getattr(user, 'email_confirmed', True)} ‚úÖ")
    print(f"   ‚úÖ –ú–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É: –î–ê")
    print()
    print("üë§ –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:")
    print("   ‚ú® –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ /login/")
    print("   üè† –ó–∞–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç /profile/")
    print("   üõí –ü–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Å–∞–π—Ç–∞")
    
    return user, activation_link

def demonstrate_security_features():
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    """
    print_step("–ë–û–ù–£–°", "–§–£–ù–ö–¶–ò–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò",
               "–ß—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç –≤–∑–ª–æ–º–∞ –∏ —Å–ø–∞–º–∞")
    
    print("üõ°Ô∏è –í–°–¢–†–û–ï–ù–ù–ê–Ø –ó–ê–©–ò–¢–ê:")
    print()
    print("1. üîê –¢–æ–∫–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:")
    print("   - –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    print("   - –¢–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è")
    print("   - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å –±–µ–∑ –∑–Ω–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞")
    print()
    print("2. ‚è∞ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:")
    print("   - –¢–æ–∫–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ 24 —á–∞—Å–∞")
    print("   - –ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –Ω—É–∂–Ω–∞ –Ω–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è")
    print("   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å—Å—ã–ª–æ–∫")
    print()
    print("3. üîÑ –û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:")
    print("   - –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º")
    print("   - –ù–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ")
    print("   - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤")
    print()
    print("4. üìß –ü—Ä–∏–≤—è–∑–∫–∞ –∫ email:")
    print("   - –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü email –º–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç")
    print("   - –ù–µ–ª—å–∑—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —á—É–∂–∏–º email")
    print("   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∞–¥—Ä–µ—Å–∞")
    print()
    print("5. üö´ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞:")
    print("   - –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ email")
    print("   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π")
    print("   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö")

if __name__ == '__main__':
    print("üöÄ –ó–ê–ü–£–°–ö –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–ò...")
    time.sleep(1)
    
    try:
        user, activation_link = demonstrate_registration_process()
        demonstrate_security_features()
        
        print("\n" + "="*60)
        print("üéØ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê")
        print("="*60)
        print()
        print("üí° –ò–¢–ê–ö, –°–ò–°–¢–ï–ú–ê –†–ê–ë–û–¢–ê–ï–¢ –°–õ–ï–î–£–Æ–©–ò–ú –û–ë–†–ê–ó–û–ú:")
        print("1. üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç")
        print("2. üîê Django –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏")  
        print("3. üìß –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è email ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É")
        print("4. üñ±Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç ‚Üí Django –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω")
        print("5. ‚úÖ –ê–∫–∫–∞—É–Ω—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏")
        print()
        print("üîó –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É:")
        print(f"   {activation_link}")
        print()
        print("üìö –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤:")
        print("   - Gmail, Yahoo, Outlook")
        print("   - Facebook, Instagram, Twitter")  
        print("   - GitHub, GitLab, Bitbucket")
        print("   - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö")
        
    except KeyboardInterrupt:
        print("\nüëã –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
    except Exception as e:
        print(f"\n‚ùå –û—à–∏–±–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏: {e}")
        import traceback
        traceback.print_exc()
