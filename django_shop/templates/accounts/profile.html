{% extends 'base.html' %}

{% block title %}–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω{% endblock %}

{% block page_header %}
<div class="row">
    <div class="col-md-8">
        <h1 class="h2">üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        <p class="text-muted">
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ user.get_full_name }}! 
            –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ –∑–∞–∫–∞–∑–∞–º–∏.
        </p>
    </div>
    <div class="col-md-4 text-md-end">
        <small class="text-muted">
            –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥: 
            {% if user.last_login %}
                {{ user.last_login|date:"d.m.Y H:i" }}
            {% else %}
                –ø–µ—Ä–≤—ã–π —Ä–∞–∑
            {% endif %}
        </small>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-4">
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ</h5>
            </div>
            <div class="card-body">
                <div class="text-center mb-3">
                    <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center" 
                         style="width: 80px; height: 80px; font-size: 2rem;">
                        {% if user.first_name %}
                            {{ user.first_name.0|upper }}{% if user.last_name %}{{ user.last_name.0|upper }}{% endif %}
                        {% else %}
                            üë§
                        {% endif %}
                    </div>
                </div>
                
                <dl class="row">
                    <dt class="col-sm-4">Email:</dt>
                    <dd class="col-sm-8">
                        {{ user.email }}
                        {% if user.email_confirmed %}
                            <span class="badge bg-success">‚úì</span>
                        {% else %}
                            <span class="badge bg-warning">!</span>
                        {% endif %}
                    </dd>
                    
                    {% if user.first_name or user.last_name %}
                        <dt class="col-sm-4">–ò–º—è:</dt>
                        <dd class="col-sm-8">{{ user.get_full_name|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</dd>
                    {% endif %}
                    
                    {% if user.phone_number %}
                        <dt class="col-sm-4">–¢–µ–ª–µ—Ñ–æ–Ω:</dt>
                        <dd class="col-sm-8">{{ user.phone_number }}</dd>
                    {% endif %}
                    
                    <dt class="col-sm-4">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:</dt>
                    <dd class="col-sm-8">{{ user.date_joined|date:"d.m.Y" }}</dd>
                </dl>
                
                {% if not user.email_confirmed %}
                    <div class="alert alert-warning">
                        <small>
                            ‚ö†Ô∏è Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.
                        </small>
                    </div>
                {% endif %}
            </div>
        </div>
        
        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="card mt-3">
            <div class="card-header">
                <h6 class="card-title mb-0">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h6>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <a href="{% url 'accounts:edit_profile' %}" class="btn btn-outline-primary btn-sm">
                        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
                    </a>
                    <a href="{% url 'accounts:change_password' %}" class="btn btn-outline-secondary btn-sm">
                        üîë –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                    </a>
                    <a href="{% url 'accounts:logout' %}" class="btn btn-outline-danger btn-sm">
                        üö™ –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-8">
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 class="text-primary">0</h2>
                        <p class="card-text">–ó–∞–∫–∞–∑–æ–≤</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 class="text-success">0 ‚ÇΩ</h2>
                        <p class="card-text">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 class="text-info">0</h2>
                        <p class="card-text">–û—Ç–∑—ã–≤–æ–≤</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ -->
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">üì¶ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h5>
            </div>
            <div class="card-body">
                <div class="text-center py-5">
                    <div class="text-muted">
                        <i class="fas fa-shopping-cart fa-3x mb-3"></i>
                        <h4>–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</h4>
                        <p>–ö–æ–≥–¥–∞ –≤—ã —Å–¥–µ–ª–∞–µ—Ç–µ –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑, –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</p>
                        <a href="{% url 'accounts:home' %}" class="btn btn-primary">
                            üõí –ù–∞—á–∞—Ç—å –ø–æ–∫—É–ø–∫–∏
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
        <div class="card mt-4">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">üìç –ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</h5>
                <button class="btn btn-outline-primary btn-sm">
                    ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å
                </button>
            </div>
            <div class="card-body">
                {% if user.address %}
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title">–û—Å–Ω–æ–≤–Ω–æ–π –∞–¥—Ä–µ—Å</h6>
                            <p class="card-text">{{ user.address }}</p>
                            <a href="{% url 'accounts:edit_profile' %}" class="btn btn-outline-secondary btn-sm">
                                ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å
                            </a>
                        </div>
                    </div>
                {% else %}
                    <div class="text-center py-3">
                        <div class="text-muted">
                            <p>–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
                            <a href="{% url 'accounts:edit_profile' %}" class="btn btn-outline-primary">
                                üìç –î–æ–±–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å
                            </a>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
        
        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="card-title mb-0">üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h6>
                        <ul class="list-unstyled">
                            <li><a href="{% url 'accounts:change_password' %}" class="text-decoration-none">üîë –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</a></li>
                            <li><a href="#" class="text-decoration-none">üì± –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</a></li>
                            <li><a href="#" class="text-decoration-none">üîí –ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤</a></li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h6>
                        <ul class="list-unstyled">
                            <li><a href="#" class="text-decoration-none">üìß –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</a></li>
                            <li><a href="#" class="text-decoration-none">üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</a></li>
                            <li><a href="{% url 'accounts:delete_account' %}" class="text-decoration-none text-danger">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
